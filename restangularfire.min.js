angular.module("kennethlynne.restangularfire",["firebase"]).config(["$httpProvider",function(a){a.defaults.headers.patch={"Content-Type":"application/json;charset=utf-8"}}]).provider("restangularFire",function(){function a(){if(null==b)throw"You need to configure restangularFire with an API url"}var b=null;this.setAPIBase=function(a){b=a},this.$get=["$firebase","firebaseRef","$q","$http",function(c,d,e,f){var g=function(a,d){function e(a){return angular.fromJson(angular.toJson(a))}function g(){var a=e(l),b={url:p,method:"PATCH",data:a};f(b)}function h(){var a=e(l);f.post(p,a)}function i(){f.delete(p)}function j(){var a=e(l);f.put(p,a)}function k(){throw"Bind not implemented (yet)"}var l=c(a),m=(l.$save,l.$bind,l.$remove,l.$set,l.$add,l.$child,a.toString()),n=m.match(/http(s)?\:\/\/[a-zA-Z0-9\.-]+\.com(\/)?(.*)$/);if(!n||!n[3]||!n[3].length>0)throw"Unexpected path. You must provide a collection name, and optionally a path. Got "+m;var o=n[3],p=b+"/"+o;return l.$save=g,l.$add=h,l.$remove=i,l.$set=j,l.$bind=k,l.$_path=o,"object"==typeof d?angular.extend(l,d):"function"==typeof d&&d(l),l},h=function(b,c,d){a();var f=e.defer();return b.once("value",function(a){!d&&a&&a.val&&null==a.val()&&f.reject("Object not found"),f.resolve(g(b,c))}),f.promise};return{get:h}}]}).factory("firebaseRef",["Firebase",function(a){return function(b){return new a(b)}}]);